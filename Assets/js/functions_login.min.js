$('.login-content [data-toggle="flip"]').click(function(){return $(".login-box").toggleClass("flipped"),!1});var divLoading=document.querySelector("#divLoading");document.addEventListener("DOMContentLoaded",function(){if(document.querySelector("#formLogin")){let e=document.querySelector("#formLogin");e.onsubmit=function(t){t.preventDefault();let r=document.querySelector("#txtEmail").value,o=document.querySelector("#txtPassword").value;if(""==r||""==o)return swal("Por favor","Escribe usuario y contraseña.","error"),!1;divLoading.style.display="flex";var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),s=BaseUrl+"/Login/LoginUser",a=new FormData(e);n.open("POST",s,!0),n.send(a),n.onreadystatechange=function(){if(4==n.readyState){if(200==n.status){var e=JSON.parse(n.responseText);e.status?window.location.reload(!1):(swal("Atención",e.msg,"error"),document.querySelector("#txtPassword").value="")}else swal("Atención","Error en el proceso","error");return divLoading.style.display="none",!1}}}}if(document.querySelector("#formRecetPass")){let e=document.querySelector("#formRecetPass");e.onsubmit=function(t){t.preventDefault();let r=document.querySelector("#txtEmailReset").value;if(""==r)return swal("Por favor","Escribe tu correo electrónico.","error"),!1;divLoading.style.display="flex";var o=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),n=BaseUrl+"/Login/ResetPass",s=new FormData(e);o.open("POST",n,!0),o.send(s),o.onreadystatechange=function(){if(4==o.readyState){if(200==o.status){var e=JSON.parse(o.responseText);e.status?swal({title:"",text:e.msg,type:"success",confirmButtonText:"Aceptar",closeOnConfirm:!1},function(e){e&&(window.location=BaseUrl)}):swal("Atención",e.msg,"error")}else swal("Atención","Error en el proceso","error");return divLoading.style.display="none",!1}}}}if(document.querySelector("#formCambiarPass")){let e=document.querySelector("#formCambiarPass");e.onsubmit=function(t){t.preventDefault();let r=document.querySelector("#txtPassword").value,o=document.querySelector("#txtPasswordConfirm").value;document.querySelector("#idUsuario").value;if(""==r||""==o)return swal("Por favor","Escribe la nueva contraseña","error"),!1;if(r.length<5)return swal("Por favor","La contraseña debe tener al menos 5 caracteres","error"),!1;if(r!=o)return swal("Por favor","Las contraseñas no son iguales","error"),!1;divLoading.style.display="flex";var n=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),s=BaseUrl+"/Login/SetPassword",a=new FormData(e);n.open("POST",s,!0),n.send(a),n.onreadystatechange=function(){if(4==n.readyState){if(200==n.status){var e=JSON.parse(n.responseText);e.status?swal({title:"",text:e.msg,type:"success",confirmButtonText:"Iniciar Sesión",closeOnConfirm:!1},function(e){e&&(window.location=BaseUrl+"/Login")}):swal("Atención",e.msg,"error")}else swal("Atención","Error en el proceso","error");return divLoading.style.display="none",!1}}}}},!1);