function fntViewInfo(e){let t=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),o=BaseUrl+"/Contactos/GetContacto/"+e;t.open("GET",o,!0),t.send(),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){let e=JSON.parse(t.responseText);e.status?(document.querySelector("#celId").innerHTML=e.data.id,document.querySelector("#celNombre").innerHTML=e.data.nombre,document.querySelector("#celEmail").innerHTML=e.data.email,document.querySelector("#celFecha").innerHTML=e.data.fecha,document.querySelector("#celMensaje").innerHTML=e.data.mensaje,$("#modalViewMensaje").modal("show")):swal("¡Error!",e.msg,"error")}}}function removePhoto(){document.querySelector("#foto").value="",document.querySelector(".delPhoto").classList.add("notBlock"),document.querySelector("#img")&&document.querySelector("#img").remove()}function fntDelPagina(e){swal({title:"Eliminar Página",text:"¿Realente quiere eliminar la Página?",type:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"No, cancelar",closeOnConfirm:!1,closeOnCancel:!0},function(t){if(t){divLoading.style.display="flex";let t=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),o=BaseUrl+"/Paginas/DelPagina/",a="idPagina="+e;t.open("POST",o,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(a),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){let e=JSON.parse(t.responseText);e.status?(swal("¡Eliminar!",e.msg,"success"),tablePaginas.api().ajax.reload()):swal("¡Error!",e.msg,"error")}return divLoading.style.display="none",!1}}})}let tablePaginas;if(tablePaginas=$("#tablePaginas").dataTable({aProcessing:!0,aServerSide:!0,language:{url:"//cdn.datatables.net/plug-ins/1.10.20/i18n/Spanish.json"},ajax:{url:BaseUrl+"/Paginas/GetPaginas",dataSrc:""},columns:[{data:"idPagina"},{data:"titulo"},{data:"fecha"},{data:"ruta"},{data:"estado"},{data:"options"}],dom:"lBfrtip",buttons:[{extend:"copyHtml5",text:"<i class='fas fa-copy'></i> Copiar",titleAttr:"Copiar",className:"btn btn-secondary"},{extend:"excelHtml5",text:"<i class='fas fa-file-excel'></i> Excel",titleAttr:"Exportar a Excel",className:"btn btn-success"},{extend:"pdfHtml5",text:"<i class='fas fa-file-pdf'></i> PDF",titleAttr:"Exportar a PDF",className:"btn btn-danger"},{extend:"csvHtml5",text:"<i class='fas fa-file-csv'></i> CSV",titleAttr:"Exportar a CSV",className:"btn btn-info"}],responsive:"true",bDestroy:!0,iDisplayLength:10}),tinymce.init({selector:"#txtContenido",width:"100%",height:600,statubar:!0,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons"}),document.querySelector("#formPaginas")){let e=document.querySelector("#formPaginas");e.onsubmit=function(t){t.preventDefault();let o=document.querySelector("#txtTitulo").value,a=document.querySelector("#txtContenido").value,n=document.querySelector("#listStatus").value;if(""==o||""==a||""==n)return swal("Atención","Todos los campos son obligatorios","error"),!1;divLoading.style.display="flex",tinyMCE.triggerSave();let r=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),i=BaseUrl+"/Paginas/SetPagina",l=new FormData(e);r.open("POST",i,!0),r.send(l),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){let e=JSON.parse(r.responseText);e.status?swal({title:"",text:e.msg,type:"success",confirmButtonText:"Aceptar",closeOnConfirm:!1},function(e){location.reload()}):swal("¡Error!",e.msg,"error")}return divLoading.style.display="none",!1}}}if(document.querySelector("#foto")){let e=document.querySelector("#foto");e.onchange=function(t){let o=document.querySelector("#foto").value,a=document.querySelector("#foto").files,n=window.URL||window.webkitURL,r=document.querySelector("#form_alert");if(""!=o){let t=a[0].type;a[0].name;if("image/jpeg"!=t&&"image/jpg"!=t&&"image/png"!=t)return r.innerHTML='<p class="errorArchivo">El archivo no es válido.</p>',document.querySelector("#img")&&document.querySelector("#img").remove(),document.querySelector(".delPhoto").classList.add("notBlock"),e.value="",!1;{r.innerHTML="",document.querySelector("#img")&&document.querySelector("#img").remove(),document.querySelector(".delPhoto").classList.remove("notBlock");let e=n.createObjectURL(this.files[0]);document.querySelector(".prevPhoto div").innerHTML="<img id='img' src="+e+">"}}else alert("No selecciono foto"),document.querySelector("#img")&&document.querySelector("#img").remove()}}if(document.querySelector(".delPhoto")){let e=document.querySelector(".delPhoto");e.onclick=function(e){document.querySelector("#foto_remove")&&(document.querySelector("#foto_remove").value=1),removePhoto()}}