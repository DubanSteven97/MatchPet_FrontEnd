function OpenModalPerfil(){$("#modalFormPerfil").modal("show")}var divLoading=document.querySelector("#divLoading");document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#formPerfil");e.onsubmit=function(t){t.preventDefault();var o=document.querySelector("#txtNombres").value,r=document.querySelector("#txtApellidos").value,n=document.querySelector("#txtTelefono").value,a=document.querySelector("#txtPassword").value,s=document.querySelector("#txtPasswordConfirm").value;if(""==o||""==r||""==n)return swal("Atención","Todos los campos son obligatorios","error"),!1;if(""!=a||""!=s){if(a.length<5)return swal("Por favor","La contraseña debe tener al menos 5 caracteres.","error"),!1;if(a!=s)return swal("Por favor","Las contraseñas no son iguales.","error"),!1}let i=document.getElementsByClassName("valid");for(let e=0;e<i.length;e++)if(i[e].classList.contains("is-invalid"))return swal("Atención","Por favor verifique los campos en rojo.","error"),!1;divLoading.style.display="flex";var l=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),c=BaseUrl+"/Usuarios/PutPerfil",u=new FormData(e);l.open("POST",c,!0),l.send(u),l.onreadystatechange=function(){if(4==l.readyState){if(200==l.status){var e=JSON.parse(l.responseText);e.status?($("#modalFormPerfil").modal("hide"),swal({title:"",text:e.msg,type:"success",showCancelButton:!0,confirmButtonText:"Aceptar",closeOnConfirm:!1},function(e){e&&location.reload()})):swal("¡Error!",e.msg,"error")}return divLoading.style.display="none",!1}}};var t=document.querySelector("#formDataFiscal");t.onsubmit=function(e){e.preventDefault(),divLoading.style.display="flex";var o=document.querySelector("#txtNit").value,r=document.querySelector("#txtNombreFiscal").value,n=document.querySelector("#txtDireccionFiscal").value;if(""==o||""==r||""==n)return swal("Atención","Todos los campos son obligatorios","error"),!1;var a=window.XMLHttpRequest?XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),s=BaseUrl+"/Usuarios/PutDFiscal",i=new FormData(t);a.open("POST",s,!0),a.send(i),a.onreadystatechange=function(){if(4==a.readyState){if(200==a.status){var e=JSON.parse(a.responseText);e.status?swal({title:"",text:e.msg,type:"success",showCancelButton:!0,confirmButtonText:"Aceptar",closeOnConfirm:!1},function(e){e&&location.reload()}):swal("¡Error!",e.msg,"error")}return divLoading.style.display="none",!1}}}},!1),window.addEventListener("load",function(){},!1);